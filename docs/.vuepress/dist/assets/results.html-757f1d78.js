import{_ as l,r as e,o as i,c as p,a as s,b as n,d as a,w as t,e as u}from"./app-dc791501.js";const d={},k=s("h1",{id:"results-api",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#results-api","aria-hidden":"true"},"#"),n(" Results Api")],-1),h={href:"https://discord.com/oauth2/authorize?client_id=728332591790293044&scope=bot+applications.commands&permissions=268445752&client_id=728332591790293044",target:"_blank",rel:"noopener noreferrer"},m=u('<p>This code can be added to a built in slash command in your bot.</p><h2 id="requirements" tabindex="-1"><a class="header-anchor" href="#requirements" aria-hidden="true">#</a> Requirements</h2><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>First you need to fetch the messages from the results channel where you use the command, that should return an array of messages objects, which you convert to an array of strings, each string is a message content</p></div><h2 id="usage" tabindex="-1"><a class="header-anchor" href="#usage" aria-hidden="true">#</a> Usage</h2><p>Use any library to make a post request to the url : <code>https://cdn.offlimitsbot.com/api/results</code> with the authorization header <code>Bearer d8eb181e-509d-4bc0-93ca-96765be40262</code></p><blockquote><p>Within the request data or body list the server id, channel id and an array containing the content of each message</p></blockquote><h2 id="request-s-result" tabindex="-1"><a class="header-anchor" href="#request-s-result" aria-hidden="true">#</a> request&#39;s result</h2><p>Await the request to receive an object that contains :</p><ul><li>error : if error exist means theres something wrong within the sent request</li><li>errors : an array containing calculation errors</li><li>table : a string of the results table</li></ul><h2 id="code-snippets" tabindex="-1"><a class="header-anchor" href="#code-snippets" aria-hidden="true">#</a> Code Snippets</h2>',10),b=s("div",{class:"language-javascript line-numbers-mode","data-ext":"js"},[s("pre",{class:"language-javascript"},[s("code",null,[s("span",{class:"token keyword"},"const"),n(),s("span",{class:"token punctuation"},"{"),n(),s("span",{class:"token keyword"},"default"),s("span",{class:"token operator"},":"),n(" axios "),s("span",{class:"token punctuation"},"}"),n(),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"require"),s("span",{class:"token punctuation"},"("),s("span",{class:"token string"},'"axios"'),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`

`),s("span",{class:"token keyword"},"const"),n(" response "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token keyword"},"await"),n(),s("span",{class:"token function"},"axios"),s("span",{class:"token punctuation"},"("),s("span",{class:"token string"},"'https://cdn.offlimitsbot.com/api/results'"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token literal-property property"},"method"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},"'post'"),s("span",{class:"token punctuation"},","),n(`
    `),s("span",{class:"token literal-property property"},"headers"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token punctuation"},"{"),n(),s("span",{class:"token literal-property property"},"Authorization"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},"'Bearer d8eb181e-509d-4bc0-93ca-96765be40262'"),n(),s("span",{class:"token punctuation"},"}"),n(`
    `),s("span",{class:"token literal-property property"},"data"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token punctuation"},"{"),n(`
           `),s("span",{class:"token literal-property property"},"serverId"),s("span",{class:"token operator"},":"),n(" serverId"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token comment"},"// server id"),n(`
           `),s("span",{class:"token literal-property property"},"channelId"),s("span",{class:"token operator"},":"),n(" channelId"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token comment"},"// The results channel id"),n(`
           `),s("span",{class:"token literal-property property"},"messages"),s("span",{class:"token operator"},":"),n(" messages"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token comment"},"// array of message.content"),n(`
        `),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},","),n(`
`),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
`),s("span",{class:"token keyword"},"const"),n(" data "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token keyword"},"await"),n(" response"),s("span",{class:"token punctuation"},"."),n("data"),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"// object"),n(`
`),s("span",{class:"token keyword"},"const"),n(" table "),s("span",{class:"token operator"},"="),n(" data"),s("span",{class:"token punctuation"},"."),n("table "),s("span",{class:"token comment"},"// String results table"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),y=s("div",{class:"language-python line-numbers-mode","data-ext":"py"},[s("pre",{class:"language-python"},[s("code",null,[s("span",{class:"token keyword"},"import"),n(` aiohttp

`),s("span",{class:"token keyword"},"async"),n(),s("span",{class:"token keyword"},"with"),n(" aiohttp"),s("span",{class:"token punctuation"},"."),n("ClientSession"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token keyword"},"as"),n(" session"),s("span",{class:"token punctuation"},":"),n(`
            headers `),s("span",{class:"token operator"},"="),n(),s("span",{class:"token punctuation"},"{"),s("span",{class:"token string"},"'Authorization'"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token string"},"'Bearer d8eb181e-509d-4bc0-93ca-96765be40262'"),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},","),n(`
            json_data `),s("span",{class:"token operator"},"="),n(),s("span",{class:"token punctuation"},"{"),n(`
                `),s("span",{class:"token string"},"'serverId'"),s("span",{class:"token punctuation"},":"),n(" server_id"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token comment"},"# server id"),n(`
                `),s("span",{class:"token string"},"'channelId'"),s("span",{class:"token punctuation"},":"),n(" channel_id"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token comment"},"# The results channel id"),n(`
                `),s("span",{class:"token string"},"'messages'"),s("span",{class:"token punctuation"},":"),n(" messages "),s("span",{class:"token comment"},"# array of message.content"),n(`
            `),s("span",{class:"token punctuation"},"}"),n(`
            `),s("span",{class:"token keyword"},"async"),n(),s("span",{class:"token keyword"},"with"),n(" session"),s("span",{class:"token punctuation"},"."),n("post"),s("span",{class:"token punctuation"},"("),s("span",{class:"token string"},"'https://cdn.offlimitsbot.com/api/results'"),s("span",{class:"token punctuation"},","),n(" headers"),s("span",{class:"token operator"},"="),n("headers"),s("span",{class:"token punctuation"},","),n(" json"),s("span",{class:"token operator"},"="),n("json_data"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token keyword"},"as"),n(" resp"),s("span",{class:"token punctuation"},":"),n(`
                data `),s("span",{class:"token operator"},"="),n(),s("span",{class:"token keyword"},"await"),n(" resp"),s("span",{class:"token punctuation"},"."),n("json"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token comment"},"# object"),n(`
                table `),s("span",{class:"token operator"},"="),n(" data"),s("span",{class:"token punctuation"},"."),n("get"),s("span",{class:"token punctuation"},"("),s("span",{class:"token string"},"'table'"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token comment"},"# String results table"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1);function v(g,_){const c=e("ExternalLinkIcon"),o=e("CodeGroupItem"),r=e("CodeGroup");return i(),p("div",null,[k,s("p",null,[n("You can link your bot to "),s("a",h,[n("OFFlimits server"),a(c)]),n(" and get results on your own bot using the following api feature")]),m,a(r,null,{default:t(()=>[a(o,{title:"JavaScript"},{default:t(()=>[b]),_:1}),a(o,{title:"Python"},{default:t(()=>[y]),_:1})]),_:1})])}const w=l(d,[["render",v],["__file","results.html.vue"]]);export{w as default};
